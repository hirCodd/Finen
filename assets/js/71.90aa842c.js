(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{360:function(e,t,a){"use strict";a.r(t);var s=a(14),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"qduoj二次开发的一些记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#qduoj二次开发的一些记录"}},[e._v("#")]),e._v(" qduoj二次开发的一些记录")]),e._v(" "),a("h2",{attrs:{id:"git-clone-onlinejudgefe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-clone-onlinejudgefe"}},[e._v("#")]),e._v(" git clone OnlineJudgeFE")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("git clone your_url(fork到你自己的github上的url)\n")])])]),a("h2",{attrs:{id:"git-clone-onlinejudge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-clone-onlinejudge"}},[e._v("#")]),e._v(" git clone OnlineJudge")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("git clone your_url(fork到你自己的github上的url)\n")])])]),e._v(" "),a("h2",{attrs:{id:"安装需要的软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装需要的软件"}},[e._v("#")]),e._v(" 安装需要的软件")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("redis\npsql\n编码工具(vim vscode)\n")])])]),a("h2",{attrs:{id:"配置相应的onlinejudge的包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置相应的onlinejudge的包"}},[e._v("#")]),e._v(" 配置相应的OnlineJudge的包")]),e._v(" "),a("p",[e._v("添加一个custom_settings.py文件,内容如下：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('SECRET_KEY = "222" # 这里的key任意输入\n')])])]),a("p",[e._v("修改dev_settings.py,数据库为psql,内存数据库为redis。(如果你的端口、用户名、密码是正确的则不需更改)")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("DATABASES = {\n\t'default': {\n\t\t'ENGINE': 'django.db.backends.postgresql_psycopg2',\n\t\t'HOST': '127.0.0.1',\n\t\t'PORT': 5432,\n\t\t'NAME': \"onlinejudge\",\n\t\t'USER': \"postgres\",\n\t\t'PASSWORD': 'postgres'\n\t}\n}\n\nREDIS_CONF = {\n\t\"host\": \"127.0.0.1\",\n\t\"port\": \"6379\"\n}\n")])])]),a("h2",{attrs:{id:"配置并运行后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置并运行后端"}},[e._v("#")]),e._v(" 配置并运行后端")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("pip install ***(后端所需要的各种库)\npython manage.py migrate \npython manage.py inituser --username=root --password=rootroot --action=create_super_admin\npython manage.py runserver\n")])])]),a("h2",{attrs:{id:"配置并运行前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置并运行前端"}},[e._v("#")]),e._v(" 配置并运行前端")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("npm install\n\nNODE_ENV=development npm run build:dll\n\nexport TARGET=http://Your-backend\n# 一般为：export TARGET=http://127.0.0.1:8000\n\nnpm run dev\n")])])]),a("h2",{attrs:{id:"redis设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis设置"}},[e._v("#")]),e._v(" redis设置")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("redis-server运行： /usr/local/redis-4.0.9/src/redis-server /usr/local/redis-4.0.9/redis.conf\n")])])]),a("h2",{attrs:{id:"访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[e._v("#")]),e._v(" 访问")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("在浏览器输入localhost:8080 即可出现真个oj系统\n")])])]),a("h2",{attrs:{id:"构建你自己的oj镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建你自己的oj镜像"}},[e._v("#")]),e._v(" 构建你自己的OJ镜像")]),e._v(" "),a("p",[e._v("在你完成修改前端代码后需要构建自己的docker镜像，你可以使用阿里云的docker进行构建，"),a("a",{attrs:{href:"https://dev.aliyun.com/search.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("构建地址-阿里云docker"),a("OutboundLink")],1),e._v(" ，因为大部分我见过的都是自己要改前端，所以只需构建前端的镜像即可,构建完成后，修改OnlineJudgeDeploy/docker-compose.yml，修改oj_backend的镜像地址为你自己的地址，修改")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("git clone -b 2.0 https://github.com/yourname/OnlineJudgeDeploy.git && cd OnlineJudgeDeploy\n")])])]),a("p",[e._v("然后通过你自己的OnlineJudgeDeploy进行安装。")]),e._v(" "),a("h2",{attrs:{id:"与onlinejudge保持同步更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#与onlinejudge保持同步更新"}},[e._v("#")]),e._v(" 与OnlineJudge保持同步更新")]),e._v(" "),a("p",[e._v("二次开发可能遇到很多问题，因为作者更新，而你没有更新，很可能导致错误，诸如：compile error，所以有必要跟随作者的更新。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("git remote add upstream qduoj_url\n# 例如 git remote add upstream https://github.com/QingdaoU/OnlineJudgeFE.git\n\ngit remote -v\n\ngit fetch upstream \n\ngit merge upstream/master\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);